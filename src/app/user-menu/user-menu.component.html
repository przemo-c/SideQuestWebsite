<div class="user-menu-back" (click)="userMenu.style.height = '0';userMenuBack.style.display = 'none'" #userMenuBack></div>
<div class="user-menu" #userMenu >
  <div class="btn-flat waves-light waves-light full-width center-align white-text" (click)="userMenu.style.height = '0';userMenuBack.style.display = 'none';appService.scrollToTop()" *ngIf="appService.isAuthenticated && expanseService.currentSession.public_profile" routerLink="/user/{{expanseService.currentSession.users_id}}">Profile</div>
  <div class="btn-flat waves-light waves-light full-width center-align white-text" (click)="userMenu.style.height = '0';userMenuBack.style.display = 'none';appService.scrollToTop()" routerLink="/account">Dashboard</div>
  <div class="btn-flat waves-light waves-light full-width center-align white-text" (click)="userMenu.style.height = '0';userMenuBack.style.display = 'none';appService.scrollToTop()" routerLink="/account/friends">Sidekicks <span class="new badge new-badge" *ngIf="appService.notifications.friend_requests && appService.notifications.friend_requests.length">{{appService.notifications.friend_requests.length|notOverNine}}</span></div>
  <div class="btn-flat waves-light waves-light full-width center-align white-text" (click)="userMenu.style.height = '0';userMenuBack.style.display = 'none'" routerLink="/account/messages">Messages <span class="new badge new-badge" *ngIf="appService.notifications.unread_messages && appService.notifications.unread_messages.length">{{appService.notifications.unread_messages.length|notOverNine}}</span></div>
  <div class="btn-flat waves-light waves-light full-width center-align white-text" (click)="userMenu.style.height = '0';userMenuBack.style.display = 'none';appService.scrollToTop()" routerLink="/account/updated-apps">My Apps <span class="new badge new-badge" *ngIf="appsToUpdateCount">{{appsToUpdateCount|notOverNine}}</span></div>
  <div class="btn-flat waves-light waves-light full-width center-align white-text" (click)="userMenu.style.height = '0';userMenuBack.style.display = 'none';appService.scrollToTop()" routerLink="/account/subscribed-events">Events</div>
  <div class="btn-flat waves-light waves-light full-width center-align white-text" (click)="userMenu.style.height = '0';userMenuBack.style.display = 'none';appService.scrollToTop()" routerLink="/account/subscribed-spaces">Spaces</div>
  <div class="btn-flat waves-light waves-light full-width center-align white-text" (click)="userMenu.style.height = '0';userMenuBack.style.display = 'none';signOut();appService.scrollToTop()">Sign Out</div>
</div>
<div *ngIf="appService.isAuthenticated" class="right top-buttons-avatar" (click)="userMenu.style.height = expanseService.currentSession.public_profile ? '300px' : '262.5px';userMenuBack.style.display = 'block'">
  <img class="avatar-menu pointer" src="{{expanseService.cdnUrl+expanseService.currentSession.preview_image}}"/>
  <i class="material-icons vertical-align avatar-menu-margin pointer" (click)="userMenu.style.height = expanseService.currentSession.public_profile ? '300px' : '262.5px';userMenuBack.style.display = 'block'">arrow_drop_down</i>
  <span class="new badge new-badge top-badge pointer" (click)="userMenu.style.height = expanseService.currentSession.public_profile ? '300px' : '262.5px';userMenuBack.style.display = 'block'" *ngIf="appService.isAuthenticated && ((appService.notifications.friend_requests && appService.notifications.friend_requests.length)||(appService.notifications.unread_messages && appService.notifications.unread_messages.length))||appsToUpdateCount">{{appService.notifications.friend_requests.length+appService.notifications.unread_messages.length+appsToUpdateCount|notOverNine}}</span>
</div>
