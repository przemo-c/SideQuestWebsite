<div class="padding" [ngClass]="{'padding':appService.hideLogo,'container':!appService.hideLogo}">
  <app-listing-modes [show_sort]="!appService.isTimeline"
                     (recent)="isRecent = true; page = 0; getApps()"
                     (name)="isRecent = false; page = 0; getApps()"></app-listing-modes>
  <h4 class="inline-block">{{category === 1 ? 'Games' : category === 4 ? 'Mods' : category === 3 ? 'NSFW' : 'Apps'}}</h4>
  <hr class="grey">
  <!--<mz-chip-input-->
    <!--[autocompleteOptions]="searchTags"-->
    <!--[placeholder]="'Enter a tag'"-->
    <!--[secondaryPlaceholder]="'+Tag'"-->
    <!--(add)="onAdd($event)"-->
    <!--(delete)="onDelete($event)"-->
    <!--(select)="onSelect($event)"-->
  <!--[(ngModel)]="searchTags.data">-->
  <!--</mz-chip-input>-->
  <!--<mz-chip-input [placeholder]="'Start typing'" [autocompleteOptions]="autocompleteOptions"></mz-chip-input>-->
  <div class="right search-box input-field">
    <i class="material-icons prefix">search</i>

    <input id="searchBox" type="text" class="validate"
           [(ngModel)]="searchString"
           (input)="debounceSearch()"
    >
    <label for="searchBox">Search</label>
  </div>
  <div class="chip pointer margin-right menu-chip" *ngIf="!appService.hideLogo"
       mz-tooltip tooltip="Official VR Games for Go and Quest."
       position="bottom"
       routerLink="/apps/1">
    <img src="https://the-expanse.github.io/SideQuestRepos/vr-games/icons/vrgames.png"/>
    Games
  </div>
  <div class="chip pointer margin-right menu-chip" *ngIf="!appService.hideLogo"
       mz-tooltip tooltip="Official VR Apps for Go and Quest."
       position="bottom"
       routerLink="/apps/2">
    <img src="https://the-expanse.github.io/SideQuestRepos/vr-apps/icons/vrapps.png"/>
    Apps
  </div>
  <div class="chip pointer margin-right menu-chip" *ngIf="!appService.hideLogo"
       mz-tooltip tooltip="VR Mods for Go and Quest."
       position="bottom"
       routerLink="/apps/4">
    <img src="https://the-expanse.github.io/SideQuestRepos/android-games/icons/games.png"/>
    Mods
  </div>
  <div class="chip pointer margin-right menu-chip" *ngIf="!appService.hideLogo"
       mz-tooltip tooltip="Official VR Games for Go and Quest."
       position="bottom"
       routerLink="/apps">
    <img src="assets/images/logo-large icony.png"/>
    All
  </div>
  <div class="clearfix"></div>
  <div *ngIf="!appService.isGrid&&appService.isTimeline" class="row">
    <app-timeline-item *ngFor="let app of apps;let i = index;"
                   [name]="app.name"
                   [description]="app.summary"
                   [image]="app.image_url"
                   [start_time]="app.created/1000"
                   [show_date]="app.show_date"
                   [show_date_first]="app.show_date"
                   [hide_time]="true"
                   (open)="router.navigateByUrl('/app/'+app.apps_id)"
    ></app-timeline-item>
  </div>
  <div *ngIf="!appService.isGrid&&!appService.isTimeline" class="row">
    <app-list-item *ngFor="let app of apps;"
       [name]="app.name"
       [description]="app.summary"
       [image]="app.image_url"
       (open)="router.navigateByUrl('/app/'+app.apps_id)"
    ></app-list-item>
  </div>

  <ngx-masonry class="masonry-layout"
               *ngIf="appService.isGrid&&!appService.isTimeline"
               [updateLayout]="updateMasonryLayout"
               [options]="{ transitionDuration: '0s', gutter: 20, isAnimated: false}">
    <ngxMasonryItem class="masonry-item" *ngFor="let app of apps">
      <app-grid-item [name]="app.name"
                     [description]="app.summary"
                     [image]="app.image_url"
                     (open)="router.navigateByUrl('/app/'+app.apps_id)"
      ></app-grid-item>
    </ngxMasonryItem>
  </ngx-masonry>
</div>
<br><br><br>
<div class="center-align">
  <div class="btn waves-effect waves-light pink-button" *ngIf="!isLoading&&!hasNoMore" (click)="getApps()">Load More</div>
  <div *ngIf="hasNoMore" class="chip">No more items...</div>
</div>
<br><br><br>
